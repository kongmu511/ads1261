Arduino & ESP32 Coding Style Guide (Copilot-Optimized)
This guide defines the conventions Copilot should follow when generating Arduino/ESP32 C++ code. All examples are normative.

1. File Structure
- #include statements
- Constants and macros
- Global variables
- Forward declarations
- setup()
- loop()
- Helper functions

2. Formatting Rules
- Indentation: 2 spaces
- No tabs
- Max line length: 100 characters
- K&R braces style
- Space after keywords and commas
- No space before parentheses in function calls

3. Naming Conventions
Constants: ALL_CAPS_WITH_UNDERSCORES
Variables: lowerCamelCase
Functions: lowerCamelCase
Types: CapitalizedCamelCase

4. Comments & Documentation
- Top-of-file description
- // for short comments
- /* ... */ for multi-line comments
- Document units, hardware assumptions, timing constraints, pin usage

5. Embedded Best Practices
- Avoid delay(); use millis() for non-blocking timing
- Avoid dynamic memory
- Prefer fixed-width types
- Keep ISRs short; use IRAM_ATTR when needed

6. Recommended Project Template
#include <Arduino.h>
const int LED_PIN = 2;
const int BLINK_INTERVAL_MS = 500;
unsigned long lastBlinkMs = 0;
bool ledState = false;
void setup() { pinMode(LED_PIN, OUTPUT); Serial.begin(115200); }
void loop() { unsigned long now = millis(); if (now - lastBlinkMs >= BLINK_INTERVAL_MS) { lastBlinkMs = now; ledState = !ledState; digitalWrite(LED_PIN, ledState ? HIGH : LOW); }}

7. Module Structure
sensor.h: function declarations
sensor.cpp: function definitions

8. Logging
Use Serial.printf with module prefixes

9. Copilot Behavior Rules
- Follow naming conventions
- Use non-blocking timing
- Prefer constants over magic numbers
- Generate helper functions instead of long loop() bodies
- Avoid dynamic memory
- Use descriptive variable names
- Use the project template as default structure
